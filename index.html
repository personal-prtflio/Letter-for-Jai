<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Letter For Jai</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600;700&display=swap');

        :root {
            --bg-color: #f4f1ea; 
            --env-color: #c9ad93;
            --env-flap: #b89a7d;
            --ink-color: #1a1a1a; 
            --gold-ink: #9d7c39;
            --wax-red: #a31a1a;
            --parchment-base: #f7f0e3;
            --parchment-edge: #e6dcc8;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
            overflow: hidden;
            perspective: 1200px;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- MUSIC BUTTON --- */
        .music-toggle {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 45px;
            height: 45px;
            background: var(--env-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid var(--gold-ink);
            opacity: 0.6;
        }
        .music-toggle svg { fill: var(--ink-color); width: 22px; }

        /* --- ENVELOPE --- */
        .envelope-wrapper {
            position: relative;
            width: 90vw;
            max-width: 380px;
            aspect-ratio: 35 / 25;
            cursor: pointer;
            z-index: 5;
        }

        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background-color: var(--env-color);
            background-image: url("https://www.transparenttextures.com/patterns/paper-fibers.png");
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            z-index: 4;
            border-radius: 4px;
        }

        .envelope::after {
            content: "To: Jai";
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 6;
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2rem, 8vw, 2.8rem);
            color: rgba(26, 26, 26, 0.75);
            pointer-events: none;
        }

        .flap {
            position: absolute;
            top: 0;
            width: 100%;
            height: 60%;
            background-color: var(--env-flap);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform-origin: top;
            transition: transform 0.6s ease-in-out;
            z-index: 6;
        }

        /* --- THE WAX BROKEN HEART --- */
        .wax-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 70px;
            height: 70px;
            background: var(--wax-red);
            transform: translate(-50%, -50%);
            z-index: 10;
            border-radius: 50%;
            /* The organic wax "pool" shape */
            box-shadow: 
                inset 0 0 10px rgba(0,0,0,0.5),
                0 4px 8px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.4s;
        }

        /* Jagged Crack across the wax */
        .wax-seal::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--wax-red);
            border-radius: 50%;
            box-shadow: inset 2px 2px 5px rgba(255,255,255,0.2);
            clip-path: polygon(
                48% 0%, 52% 0%, 
                45% 20%, 55% 40%, 
                42% 60%, 58% 80%, 
                50% 100%, 45% 100%
            );
            background: rgba(0,0,0,0.4);
            z-index: 12;
        }

        .heart-shape {
            width: 40px;
            height: 40px;
            background: var(--wax-red);
            position: relative;
            transform: rotate(-45deg);
            box-shadow: inset -3px 3px 6px rgba(0,0,0,0.3);
        }

        .heart-shape::before, .heart-shape::after {
            content: "";
            width: 40px;
            height: 40px;
            background: var(--wax-red);
            border-radius: 50%;
            position: absolute;
            box-shadow: inset 2px 2px 5px rgba(255,255,255,0.1);
        }

        .heart-shape::before { top: -20px; left: 0; }
        .heart-shape::after { left: 20px; top: 0; }

        .open .wax-seal { opacity: 0; pointer-events: none; transition: 0.3s; }

        /* --- LETTER --- */
        .letter {
            position: absolute;
            bottom: 5%;
            left: 5%;
            width: 90%;
            height: 90%;
            z-index: 2;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            background: var(--parchment-base);
            background-image: 
                radial-gradient(circle at 50% 50%, transparent 80%, rgba(210,180,140,0.15) 100%),
                url("https://www.transparenttextures.com/patterns/p6.png");
            box-shadow: 2px 2px 15px rgba(0,0,0,0.1);
            border: 1px solid var(--parchment-edge);
        }

        .letter-content {
            font-family: 'Dancing Script', cursive;
            color: var(--ink-color);
            opacity: 0;
            transition: opacity 0.5s;
            height: 100%;
            width: 100%;
            box-sizing: border-box;
            padding: 40px;
            overflow-y: auto;
            line-height: 1.6;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 35px;
            height: 35px;
            background: rgba(0,0,0,0.05);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            opacity: 0;
            z-index: 12;
        }

        .open .flap { transform: rotateX(180deg); z-index: 1; }
        .open .letter { bottom: 65%; z-index: 3; }

        .expanded .letter {
            width: 95vw;
            height: 92vh;
            bottom: 50%;
            left: 50%;
            transform: translate(-50%, 50%);
            z-index: 10;
        }
        
        .expanded .letter-content { 
            opacity: 1; 
            padding: clamp(30px, 8vw, 80px); 
            font-size: clamp(1.2rem, 5vw, 1.8rem); 
        }
        .expanded .close-btn { opacity: 1; }

        .instruction {
            position: fixed;
            bottom: 30px;
            color: #8c6a50;
            font-size: 0.75rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: bold;
            opacity: 0.7;
        }

        .petal {
            position: absolute;
            background-color: #ffdae0;
            border-radius: 150% 0 150% 0;
            opacity: 0.4;
            z-index: 0;
            animation: float 10s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            100% { transform: translateY(110vh) translateX(100px) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div class="music-toggle" id="music-toggle">
        <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
    </div>

    <div id="petal-container"></div>

    <div class="envelope-wrapper" id="env-wrapper">
        <div class="flap"></div>
        
        <div class="wax-seal" id="heart-seal">
            <div class="heart-shape"></div>
        </div>

        <div class="letter" id="letter">
            <div class="close-btn" id="close-btn">&times;</div>
            <div class="letter-content">
                <p style="font-size: 1.2em; font-weight: 700;">My Dearest Jai,</p>
                <p>I wanted to write this to tell you how much you truly mean to me. Sometimes it’s hard to find the right words in the moment, so I thought I’d put them here, where they can stay forever.</p>
                <p>Ever since you came into my life, everything has felt a little brighter. I love the way we talk for hours, the way you laugh, and even the quiet moments we share. You are my best friend and my greatest adventure.</p>
                <p>Thank you for being exactly who you are.</p>

                <p>This is really hard for me to say, and I’ve been sitting with this for a while now because I didn’t want to hurt you or make you feel like everything we had meant nothing. It did. You did.</p>

                <p>I need to be honest with you — as much as I’ve tried to make this work, I can’t see my future with you. I’ve tried to imagine it, to visualize us moving forward, but I keep coming up empty. And that hurts me too, because I know how much you’ve invested emotionally.
</p>
<p>Please know this: this is not because you weren’t enough. You didn’t fail me. You didn’t lack effort, love, or care. This is about me. I’m still trying to understand myself, my limits, and what I can truly give. Somewhere along the way, I realized I was caught up in the situation — in the emotions, the intensity, the care — but not fully grounded in who I am and what I can commit to long-term.</p>
<p>I do love you. That part is real. But love alone isn’t enough if I can’t show up the way you deserve or see myself growing into the future you’re hoping for. And it wouldn’t be fair to keep holding on when deep down, I know I can’t fully step into that role.</p>
<p>Maybe the truth is, we’re just not compatible in the ways that matter most — not because either of us is wrong, but because we need different things, at different capacities, at this point in our lives.</p>
<p>So with honesty and respect, I need to ask: will you not be my girlfriend?</p>
<p>Not because you aren’t worthy — but because I don’t want to keep you in something where I’m unsure, and you deserve certainty.</p>
<p>I also want you to know that ending this doesn’t mean erasing you from my life. I don’t want to get rid of the memories we had — they were real, meaningful, and they mattered to me. And if you’re open to it, I still want us to be friends, with healthier boundaries, and mutual respect. I care about you as a person, not just as someone I dated.</p>

<p>This is me being true to myself, even if it’s painful. I hope one day you’ll understand that this decision came from honesty, not from lack of love.</p>
<p>Thank you for everything you gave, and for the part you played in my life. I will always be grateful for that.</p>
                <p></p>
                <p style="font-size: 1.6em; margin-top: 30px; font-weight: 700;">Mic</p>
            </div>
        </div>
        <div class="envelope"></div>
    </div>

    <div class="instruction">Tap the seal to open</div>

    <script>
        const wrapper = document.getElementById('env-wrapper');
        const closeBtn = document.getElementById('close-btn');
        const musicToggle = document.getElementById('music-toggle');
        const bgMusic = document.getElementById('bg-music');
        
        musicToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            if (bgMusic.paused) { bgMusic.play(); musicToggle.style.opacity = "1"; }
            else { bgMusic.pause(); musicToggle.style.opacity = "0.6"; }
        });

        function createPetals() {
            const container = document.getElementById('petal-container');
            for (let i = 0; i < 15; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.width = Math.random() * 15 + 10 + 'px';
                petal.style.height = petal.style.width;
                petal.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(petal);
            }
        }
        createPetals();

        wrapper.addEventListener('click', () => {
            if (wrapper.classList.contains('expanded')) return;
            if (!wrapper.classList.contains('open')) {
                wrapper.classList.add('open');
                document.querySelector('.instruction').innerText = "Tap letter to read";
            } else {
                wrapper.classList.add('expanded');
                document.querySelector('.instruction').style.opacity = "0";
            }
        });

        closeBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            wrapper.classList.remove('expanded', 'open');
            document.querySelector('.instruction').innerText = "Tap the seal to open";
            document.querySelector('.instruction').style.opacity = "0.7";
        });
    </script>
</body>
</html>
